
<!DOCTYPE html>
<html class="writer-html5" lang="ru" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Select orgstruct &mdash; ECOS</title>
      <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../../../_static/css/main_theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../../" id="documentation_options" src="../../../../../_static/documentation_options.js"></script>
        <script src="../../../../../_static/jquery.js"></script>
        <script src="../../../../../_static/underscore.js"></script>
        <script src="../../../../../_static/doctools.js"></script>
        <script src="../../../../../_static/translations.js"></script>
    <script src="../../../../../_static/js/theme.js"></script>
    <link rel="index" title="Алфавитный указатель" href="../../../../../genindex.html" />
    <link rel="search" title="Поиск" href="../../../../../search.html" />
    <link rel="next" title="Ecos Select" href="ecos%20select.html" />
    <link rel="prev" title="Select journal" href="select%20journal.html" />


 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../../../index.html" class="icon icon-home"> Citeck ECOS
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Поиск в документации" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Меню навигации">
              <p class="caption" role="heading"><span class="caption-text">Знакомство с ECOS</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../%D0%92%D0%B2%D0%B5%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5.html">Знакомство с ECOS</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Раздел 2</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../%D0%9F%D1%80%D0%B8%D0%BC%D0%B5%D1%80%20%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B8%20%D0%BF%D1%80%D0%BE%D1%86%D0%B5%D1%81%D1%81%D0%B0.html">Пример создания приложения ECOS</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Раздел 3</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../../../../%D0%91%D0%B0%D0%B7%D0%B0%20%D0%B7%D0%BD%D0%B0%D0%BD%D0%B8%D0%B9%20%D0%BF%D0%BE%20%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B5.html">Конструктор low-code</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../../ecos_artifacts.html">ECOS Артефакты</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../ecos_applications.html">ECOS Приложения</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../%D0%A2%D0%B8%D0%BF%D1%8B_%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85.html">Типы данных</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../Aspects.html">Аспекты</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../../interface.html">Интерфейс</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../../../forms.html">Формы</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../../forms.html">Общая информация</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../form_builder.html">Конструктор форм</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../../form_components.html">Компоненты формы</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../form_examples.html">Примеры компонент</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../form_localisation.html">Локализация</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../form_for_task.html">Связь формы с задачей</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../journals.html">Журналы</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../menu.html">Меню</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../dashboards.html">Дашборды</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../widgets.html">Виджеты</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../number_template.html">Шаблоны нумерации</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../ui_actions.html">Действия</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../%D0%9F%D1%80%D0%BE%D1%86%D0%B5%D1%81%D1%81%D1%8B.html">Бизнес-процессы</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../notifications.html">Уведомления</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../Admin_Page.html">Страница администратора</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../%D0%A2%D0%B5%D0%BC%D1%8B_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D0%B0.html">Настройка темы интерфейса</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../Best_practice.html">Best practice</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Администрирование</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../%D0%90%D0%B4%D0%BC%D0%B8%D0%BD%D0%B8%D1%81%D1%82%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5.html">Администрирование</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Архитектура</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../%D0%90%D1%80%D1%85%D0%B8%D1%82%D0%B5%D0%BA%D1%82%D1%83%D1%80%D0%B0.html">Архитектура</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Общая база знаний</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../general/%D0%A2%D0%B5%D1%80%D0%BC%D0%B8%D0%BD%D1%8B.html">Термины</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../general/ECOS_Records.html">ECOS Records API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../general/ECOS_Records_examples.html">Примеры запросов ECOS Records</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../general/ecos_data.html">ECOS Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../general/System_attributes.html">Системные атрибуты</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../general/%D0%AF%D0%B7%D1%8B%D0%BA_%D0%BF%D1%80%D0%B5%D0%B4%D0%B8%D0%BA%D0%B0%D1%82%D0%BE%D0%B2.html">Язык предикатов</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../general/Transactions.html">Транзакции в ECOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../general/Commands.html">Команды</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../general/Aspects.html">Аспекты</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../general/Microservices.html">Микросервисы</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../general/ECOS_WebAPI.html">ECOS WebAPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../general/%D0%93%D0%B5%D0%BD%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D1%8F%20%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%BE%D0%B2.html">Микросервис Трансформации. Генерация документов по шаблонам</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../general/Preview.html">Предпросмотр документов</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../general/Events.html">Работа с событиями (events)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../general/Processes.html">Бизнес-процессы</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../general/Alfresco.html">Alfresco и информация о миграции</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../general/How_To.html">How To</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Интеграции</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../integration/API%20ECOS%20%D0%B4%D0%BB%D1%8F%20%D0%B2%D0%BD%D0%B5%D1%88%D0%BD%D0%B8%D1%85%20%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC.html">Примеры использования Records API для внешних систем</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../integration/Camel_DSL.html">Использование Camel DSL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../integration/data%20sources.html">Источники данных</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../integration/records%20sources.html">Создание новых источников записей через Web интерфейс</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../integration/OSGI.html">Функционал загрузки OSGI пакетов</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../integration/Filesystem%20Export.html">Выгрузка записей из любой базы данных в файловую систему микросервиса интеграции</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../integration/Mail%20Processing.html">Импорт писем IMAP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../integration/file_import.html">Файловый импорт в систему</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../integration/2_instances.html">Общение между двумя и более инстансами ECOS’а через команды и события</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../integration/EDI_integration.html">Интеграция с ЭДО провайдерами</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../integration/Counterparties%20sync.html">Синхронизация контрагентов</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../integration/currency.html">Интеграция курсов валют</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../integration/ECOS%20Synchronization.html">Поддержка выгрузки нод alfresco в таблицу базы данных</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Раздел 8</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../%D0%9C%D0%BE%D0%B1%D0%B8%D0%BB%D1%8C%D0%BD%D0%BE%D0%B5%20%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5.html">Мобильное приложение</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Меню навигации для мобильных устройств" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">Citeck ECOS</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Навигация по страницам">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../../../../%D0%91%D0%B0%D0%B7%D0%B0%20%D0%B7%D0%BD%D0%B0%D0%BD%D0%B8%D0%B9%20%D0%BF%D0%BE%20%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B5.html">Конструктор low-code</a> &raquo;</li>
          <li><a href="../../../../interface.html">Интерфейс</a> &raquo;</li>
          <li><a href="../../../forms.html">Формы</a> &raquo;</li>
          <li><a href="../../form_components.html">Компоненты формы</a> &raquo;</li>
          <li><a href="../components.html">Подробное описание отдельных компонент</a> &raquo;</li>
      <li>Select orgstruct</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../../_sources/settings_kb/interface/forms/form_components/components/select orgstruct.rst.txt" rel="nofollow"> Просмотреть исходный код страницы</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="select-orgstruct">
<span id="id1"></span><h1><a class="toc-backref" href="#id7">Select orgstruct</a><a class="headerlink" href="#select-orgstruct" title="Ссылка на этот заголовок"></a></h1>
<div class="contents topic" id="id2">
<p class="topic-title">Содержание</p>
<ul class="simple">
<li><p><a class="reference internal" href="#select-orgstruct" id="id7">Select orgstruct</a></p>
<ul>
<li><p><a class="reference internal" href="#id3" id="id8">Настройка доступных для выбора элементов</a></p></li>
<li><p><a class="reference internal" href="#id4" id="id9">Скрытие групп и подгрупп</a></p></li>
<li><p><a class="reference internal" href="#id5" id="id10">Настройка полей для поиска пользователя</a></p></li>
<li><p><a class="reference internal" href="#id6" id="id11">Прочее</a></p></li>
</ul>
</li>
</ul>
</div>
<section id="id3">
<h2><a class="toc-backref" href="#id8">Настройка доступных для выбора элементов</a><a class="headerlink" href="#id3" title="Ссылка на этот заголовок"></a></h2>
<blockquote>
<div><a class="reference internal image-reference" href="../../../../../_images/select_orgstruct_1.png"><img alt="../../../../../_images/select_orgstruct_1.png" class="align-center" src="../../../../../_images/select_orgstruct_1.png" style="width: 600px;" /></a>
</div></blockquote>
<p><strong>Таб по умолчанию: Все пользователи, По уровням</strong> - таб, показываемый по умолчанию:</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../../../../_images/select_orgstruct_2.png"><img alt="../../../../../_images/select_orgstruct_2.png" class="align-center" src="../../../../../_images/select_orgstruct_2.png" style="width: 500px;" /></a>
</div></blockquote>
<p><strong>Разрешенный тип полномочий/Allowed authority type</strong> - типы элементов, доступные до выбора. Доступные значения: <strong>USER</strong> - пользователи, <strong>GROUP</strong> - группы. Можно указать оба типа через запятую.</p>
<p><strong>Разрешенный тип группы/Allowed group type</strong> - типы групп, доступных для выбора. Работает в случае, если <strong>Allowed authority type</strong> содержит <strong>„GROUP“</strong>. Можно указать несколько групп через запятую.</p>
<p><strong>Разрешенный подтип группы/Allowed group subtype</strong> - типы подгрупп, доступных для выбора. Можно указать несколько подгрупп через запятую. Если поле заполнено, для выбора будут доступны только те элементы, которые проходят фильтр по этому полю, остальные группы выбрать нельзя.</p>
</section>
<section id="id4">
<h2><a class="toc-backref" href="#id9">Скрытие групп и подгрупп</a><a class="headerlink" href="#id4" title="Ссылка на этот заголовок"></a></h2>
<blockquote>
<div><a class="reference internal image-reference" href="../../../../../_images/select_orgstruct_3.png"><img alt="../../../../../_images/select_orgstruct_3.png" class="align-center" src="../../../../../_images/select_orgstruct_3.png" style="width: 500px;" /></a>
</div></blockquote>
<p><strong>Исключить авторитеты по имени/Exclude authorities by name</strong> -  список групп, перечисленных через запятую, для фильтрации по имени . Группы, добавленные в это поле, и все их дочерние элементы не отображаются в оргструктуре</p>
<p>Для того чтобы дочерние группы скрытых групп не появлялись в результатах поиска была добавлена следующая нотация:
<code class="docutils literal notranslate"><span class="pre">GROUP_NAME/*</span></code> - для того чтобы убрать дочерние элементы только первого уровня
<code class="docutils literal notranslate"><span class="pre">GROUP_NAME/**</span></code> - для того чтобы убрать дочерние элементы на любом уровне вложенности</p>
<p><strong>Исключить авторитеты по типу или подтипу группы/Exclude authorities by group type or subtype</strong> - список групп, перечисленных через запятую, для фильтрации по типу. Элементы, соответствующие этим типам, не отображаются в оргструктуре.</p>
</section>
<section id="id5">
<h2><a class="toc-backref" href="#id10">Настройка полей для поиска пользователя</a><a class="headerlink" href="#id5" title="Ссылка на этот заголовок"></a></h2>
<div class="admonition note">
<p class="admonition-title">Примечание</p>
<p>Пользовательские значения по умолчанию:
<code class="docutils literal notranslate"><span class="pre">value</span> <span class="pre">=</span> <span class="pre">user;</span></code></p>
</div>
<p>По-умолчанию поиск пользователей осуществляется по трём полям: <strong>cm:userName, cm:firstName и cm:lastName</strong>. Есть два варианта расширить список полей для поиска пользователей:</p>
<ul class="simple">
<li><p>локальная настройка <strong>Поиск пользователя: дополнительное поле/User search: extra fields</strong> на вкладке <span class="guilabel">Кастомные</span>. Настройка доступна только в случае, если в поле <strong>Allowed authority type</strong> содержится вариант <strong>USER</strong>.</p></li>
<li><p>глобальная настройка <code class="docutils literal notranslate"><span class="pre">uiserv/config&#64;orgstruct-search-user-extra-fields</span></code></p></li>
</ul>
<blockquote>
<div><p>Добавить в проект конфигурационный json-файл (<code class="docutils literal notranslate"><span class="pre">alfresco\module\{module-name}\ui\config\</span></code>) с содержимым:</p>
</div></blockquote>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;orgstruct-search-user-extra-fields&quot;</span><span class="p">,</span>
    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;SelectOrgstruct user search: extra fields&quot;</span><span class="p">,</span>
    <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;someFieldName1,field:name2&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>либо выполнить в консоли команду (вариант подходит только для отладочных целей, при обновлении сервера настройка может сброситься):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">const</span> <span class="n">config</span> <span class="o">=</span> <span class="n">Citeck</span><span class="o">.</span><span class="n">Records</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;uiserv/config@orgstruct-search-user-extra-fields&#39;</span><span class="p">);</span>
<span class="n">config</span><span class="o">.</span><span class="n">att</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="s1">&#39;someFieldName1,field:name2&#39;</span><span class="p">);</span>
<span class="n">config</span><span class="o">.</span><span class="n">save</span><span class="p">();</span>
</pre></div>
</div>
<p>В обоих случаях в качестве значения принимается строка с названиями полей, разделёнными между собой запятыми.</p>
<ul class="simple">
<li><p>глобальная настройка <code class="docutils literal notranslate"><span class="pre">uiserv/config&#64;orgstruct-search-user-middle-name</span></code> для использования Отчества при поиске пользователей</p></li>
</ul>
<blockquote>
<div><p>Добавить в проект конфигурационный json-файл (<code class="docutils literal notranslate"><span class="pre">alfresco\module\{module-name}\ui\config\</span></code>) с содержимым:</p>
</div></blockquote>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;orgstruct-search-user-middle-name&quot;</span><span class="p">,</span>
    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;SelectOrgstruct user search with cm:middleName&quot;</span><span class="p">,</span>
    <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="n">true</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</section>
<section id="id6">
<h2><a class="toc-backref" href="#id11">Прочее</a><a class="headerlink" href="#id6" title="Ссылка на этот заголовок"></a></h2>
<blockquote>
<div><a class="reference internal image-reference" href="../../../../../_images/select_orgstruct_3.png"><img alt="../../../../../_images/select_orgstruct_3.png" class="align-center" src="../../../../../_images/select_orgstruct_3.png" style="width: 500px;" /></a>
</div></blockquote>
<p><strong>Current user by default</strong> - в случае, если флажок отмечен, по умолчанию будет установлено значение с <strong>id</strong> текущего пользователя. Работает только для форм в режиме создания записи („CREATE“).</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Нижняя область">
        <a href="select%20journal.html" class="btn btn-neutral float-left" title="Select journal" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Предыдущая</a>
        <a href="ecos%20select.html" class="btn btn-neutral float-right" title="Ecos Select" accesskey="n" rel="next">Следующая <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Citeck.</p>
  </div>

  Собрано при помощи <a href="https://www.sphinx-doc.org/">Sphinx</a> с использованием
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">темы,</a>
    предоставленной <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>